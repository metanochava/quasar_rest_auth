<template>
  <div class="q-pa-md">
  {{ 'Valor' }}
  {{Users.counter}} <br> 


    <q-btn icon='add' color="primary"  outline 
      @click="Users.counter++"
    />

    <q-btn label="Users"  color="primary"  outline  :to="{name:'users'}" />

    <q-btn label="limpar"  color="primary"  outline 
      @click="Users.clearUsers()"
    />

    <q-btn label="api"  color="primary"  outline 
      @click="getUsers()"
    />

    <br>
    <q-markup-table>
      <thead>
        <tr>
          <th class="text-left">id</th>
          <th class="text-right">Name</th>
          <th class="text-right">Email</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="user in Users.list" :key="user" 
        >
          <td class="text-left">{{user.id}}</td>
          <td class="text-right">{{user.name}}</td>
          <td class="text-right">{{user.email}}</td>
        </tr>
      </tbody>
    </q-markup-table>
  </div>
</template>



<script>
import { defineComponent } from 'vue'
import { useUsers } from 'src/pages/rh/Users'

import { api } from 'src/boot/axios'


export default defineComponent({
  components: {

  },
  setup () {
    const Users = useUsers()
    return {
      Users
    }
  },
  data () {
    return {
      aluno:  "Aida",
      rotulo: "",
      posts: []
    }
  },
  computed: {

  },

  mounted(){
    this.getUsers()
  },

  methods: {
    alerta(p){
      alert(p)
    },
    getUsers() {
     api.get('users').then(response => {
      this.Users.list =  response.data
     })
     .catch(err => {
        this.spiner = false
        console.log(err)
      })
    }
  }
})
</script>