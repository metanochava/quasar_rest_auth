<template>
  <q-btn flat dense round
    :icon="fullscreen ? 'fullscreen_exit' : 'fullscreen'"
    @click="toggleFullScreen" >
    <q-tooltip :class="$q.dark.isActive ? 'bg-transparent' : 'bg-primary'">
      {{ fullscreen ? tdc('Clique para desactivar da tela cheia'): tdc('Clique para activar da tela cheia') }}
    </q-tooltip>
  </q-btn>
</template>

<script>
import { defineComponent } from 'vue'
import { tdc } from '../../boot/app';

export default defineComponent({
  components: {

  },
  setup () {
    return {
    }
  },
  data () {
    return {
      fullscreen: false,
      tdc: tdc
    }
  },
  computed: {

  },

  mounted(){
    document.addEventListener("fullscreenchange", () => {
      this.fullscreen = !!document.fullscreenElement;
    });
  },

  methods: {
    toggleFullScreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else if (document.exitFullscreen) {
        document.exitFullscreen();
      }
      this.fullscreen = !!document.fullscreenElement;
    }
  }
})
</script>
